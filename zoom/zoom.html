<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <style>
        #zoom {
            height: 600px;
            overflow: hidden;
            position:relative;
            background: #eee;
            -webkit-transform: translate3d(0,0,0);
        }

        #zoom :first-child {
            position: relative;
        }
    </style>
</head>

<body>

<div id="zoom">
    <img src="waldo.jpg" alt="" height=600 />
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="https://raw.github.com/eightmedia/hammer.js/master/hammer.js"></script>
<script>

    // disable the dragging of images on desktop browsers
    $("img").bind("dragstart", function() {
       	return false; 
    });


    $(function(){
        var hammer = new Hammer("#zoom", {
            prevent_default: true,
            scale_treshold: .1
        });

        var zoom = new ZoomCanvas(hammer, '#zoom', '#zoom :first-child');
    });


    function ZoomCanvas(hammer, container, el){
        var MAX_ZOOM = 5;
        
        var el = $(el);

        var start = {
            scale: 1,
            x: 0,
            y: 0,
            width: el.width(),
            height: el.height()
        }
        var current = {
            scale: 1,
            x: 0,
            y: 0,
            width: el.width(),
            height: el.height()
        }

        

        // on start transform
        function ontransformstart(ev){
            start.scale = current.scale;
            start.x = current.x;
            start.y = current.y;
            start.width = current.width;
            start.height = current.height;
        }

        // on transform
        function ontransform( ev ){
            if(ev.scale){
                current.scale = start.scale * ev.scale;
                current.scale = current.scale < 1 ? 1 : (current.scale > MAX_ZOOM ? MAX_ZOOM : current.scale);
            }
            var x = ev.position.x;
            var y = ev.position.y;
            el.css('-webkit-transform-origin', x +'px '+ y +'px');
            move(x, y);
        }
        
        // move
        function move(x, y){
            current.width = start.width * current.scale;
            current.height = start.height * current.scale;

            current.x = (x * (start.width - current.width)) / current.width;
            current.y = (y * (start.height - current.height)) / current.height;
            
            el.css('-webkit-transform', 'matrix('+ current.scale +', 0, 0, '+ current.scale +', '+ current.x  +', '+ current.y +')');
        }

        hammer.ontransform = ontransform;
        hammer.ontransformstart = ontransformstart;
        hammer.ondrag = ondrag;
        hammer.ondragstart = ondragstart;
    }

</script>
</body>
</html>
